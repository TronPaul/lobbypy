<html>
   <head>
      <title>LobbyPy</title>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
      <script src="/static/socket.io.js" type="text/javascript"></script>
      <script src="/static/handlebars.js" type="text/javascript"></script>
      <script src="/static/underscore.js" type="text/javascript"></script>
      <script src="/static/backbone.js" type="text/javascript"></script>
      <script src="/static/spin.js" type="text/javascript"></script>
      <script src="/static/master.js" type="text/javascript"></script>
      <link href="/static/master.css" rel="stylesheet" type="text/css"/>
      <script id="lobby_template" type="text/x-handlebars-template">
         <h1>{{name}}</h1>
         <div class="teams">
         {{#each teams}}
         <div id="team-{{id}}" class="team">
            <h3 class="team-title">{{this.name}}</h3>
            <ul class="team-list">
               {{#each this.players}}
               <li>{{this.player.name}} - {{#if this.class}}{{this.class}}{{else}}Random{{/if}}</li>
               {{/each}}
            </ul>
         </div>
         {{/each}}
         </div>
         <div class="classes">
            <strong>Classes</strong>
            <ul>
               <li id="class-1" class="class">Scout</li>
               <li id="class-2" class="class">Soldier</li>
               <li id="class-3" class="class">Pyro</li>
               <li id="class-4" class="class">Demoman</li>
               <li id="class-5" class="class">Heavy</li>
               <li id="class-6" class="class">Engineer</li>
               <li id="class-7" class="class">Medic</li>
               <li id="class-8" class="class">Sniper</li>
               <li id="class-9" class="class">Spy</li>
               <li id="class-0" class="class">Random</li>
            </ul>
         <div class="spectators">
            <h5 class="spectator-title">Spectators</h5>
            <ul class="spectator-list">
               {{#each spectators}}
               <li>{{this.name}}</li>
               {{/each}}
            </ul>
         </div>
         <button id="leave">Leave Lobby</button>
      </script>
      <script id="lobbies_template" type="text/x-handlebars-template">
         <h1>Lobbies</h1>
         <ul id="lobbies">
            {{#each lobbies}}
            <li id="lobby-{{this.id}}">
               <div class="lobby_info">{{this.name}} - {{this.owner.name}}</div> <a href="#lobby/{{this.id}}">Join</a>
            </li>
            {{/each}}
         </ul>
         <form id="create_lobby_form">
            <input type="text" id="lobby_name"></input>
            <button type="submit" id="submit">Create Lobby</button>
         </form>
      </script>
   </head>
   <body>
      <div id="wrapper">
         <div id="header">
            <tal:block tal:condition="player">
               <div class="left">
                  Hello <span tal:content="player.name">Name</span>
               </div>
               <div class="right">
                  <a href="${request.route_url('logout')}">logout</a>
               </div>
            </tal:block>
            <tal:block tal:condition="not player">
               <div class="right">
                  <a href="${request.route_url('login')}"><img src="/static/sits_large_border.png"/></a>
               </div>
            </tal:block>
            <div class="ticker" style="clear:both">
                <a href="https://github.com/TronPaul/lobbypy/issues">LobbyPy Issues List</a> (Report and view known issues) -
                <a href="http://bit.ly/lobbypy-data-rules">LobbyPy Data Rules</a> (Rules the app needs to follow)
            </div>
         </div>
         <div id="container">
         </div>
         <div id="footer">
         </div>
      </div>
   </body>
</html>
